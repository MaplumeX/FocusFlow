# FocusFlow - 总任务文档（Master Plan）

**版本:** 1.0
**日期:** 2025-11-29
**项目周期:** 6-8 周
**项目状态:** 🟡 规划完成，准备启动

---

## 📋 文档说明

本文档是 FocusFlow 项目的**总体规划文档**，提供项目全局视图。

**阅读对象：**
- 项目经理 - 跟踪整体进度
- 产品负责人 - 确认里程碑和交付物
- 技术负责人 - 把控技术方向

**相关文档：**
- [需求文档](PRD.md) - 详细功能需求
- [技术方案](TECH_STACK.md) - 技术选型
- [红线文档](CONSTRAINTS.md) - 禁止事项
- [规范文档](STANDARDS.md) - 开发规范
- [实施文档](IMPLEMENTATION.md) - 详细实施指南

---

## 1. 项目概览

### 1.1 项目愿景

**打造最简洁、最高效的专注力管理工具**

> 让不同类型的工作拥有专属的专注节奏，
> 通过数据洞察帮助用户优化时间分配。

### 1.2 项目目标

#### 业务目标
- ✅ 验证"专注事项"概念的可行性
- ✅ 构建差异化的番茄钟应用
- ✅ 建立用户专注习惯数据库

#### 技术目标
- ✅ 极简技术栈（5 个生产依赖）
- ✅ 高性能（< 2 秒启动，< 1 秒计时误差）
- ✅ 可扩展架构（支持云端同步）

#### 质量目标
- ✅ 零重大 Bug（MVP 阶段）
- ✅ 代码覆盖率 > 70%（Phase 2 开始）
- ✅ 用户满意度 > 4.5/5.0

---

## 2. 核心指标

### 2.1 关键绩效指标（KPI）

| 指标类型 | 指标名称 | 目标值 | 当前值 | 状态 |
|---------|---------|--------|--------|------|
| **性能** | 启动时间 | < 2s | - | 🟡 待测试 |
| **性能** | 计时器精度 | < 1s 误差 | - | 🟡 待测试 |
| **性能** | 内存占用 | < 200MB | - | 🟡 待测试 |
| **质量** | 代码覆盖率 | > 70% | 0% | 🔴 Phase 2 |
| **体积** | 打包大小 | < 80MB | - | 🟡 待构建 |
| **依赖** | 生产依赖数 | = 5 | 0 | 🟢 已确定 |

### 2.2 项目健康度指标

| 维度 | 指标 | 目标 |
|------|------|------|
| **开发进度** | 按时交付率 | > 90% |
| **代码质量** | 代码审查通过率 | 100% |
| **技术债务** | 技术债务条目 | < 5 个 |
| **文档完整性** | 核心文档齐全度 | 100% ✅ |

---

## 3. 项目里程碑

### 3.1 里程碑总览

```
项目启动 ────────────────────────────────────────────── 项目发布
    │                                                    │
    ├─ M1: MVP 完成 (Week 2)                            │
    │   └─ 核心功能可用                                 │
    │                                                    │
    ├─ M2: 会话管理完成 (Week 3)                        │
    │   └─ 完整专注流程                                 │
    │                                                    │
    ├─ M3: 数据统计完成 (Week 5)                        │
    │   └─ 数据洞察能力                                 │
    │                                                    │
    ├─ M4: 云端同步完成 (Week 7)                        │
    │   └─ 多设备支持                                   │
    │                                                    │
    └─ M5: 正式发布 (Week 8)                            │
        └─ 1.0 版本发布                                 │
```

### 3.2 里程碑详情

#### M1: MVP 完成（Week 2）

**目标日期:** 2025-12-13

**核心目标:**
- ✅ 专注事项管理（CRUD）
- ✅ 计时器功能（开始/暂停/停止）
- ✅ 本地数据存储
- ✅ 系统通知

**验收标准:**
```
功能性：
□ 能够创建/编辑/删除专注事项
□ 能够选择事项并开始计时
□ 计时器精度误差 < 1 秒
□ 工作结束时显示通知

技术性：
□ 项目架构搭建完成
□ 数据库层实现完成
□ IPC 通信正常
□ 5 个依赖安装完成

交付物：
□ 可运行的 MVP 版本
□ 数据库架构文档
□ 核心代码审查通过
```

**风险:**
- 🟡 Electron 环境配置复杂度
- 🟡 计时器精度实现难度

---

#### M2: 会话管理完成（Week 3）

**目标日期:** 2025-12-20

**核心目标:**
- ✅ 完整的会话生命周期
- ✅ 多番茄钟连续执行
- ✅ 自动休息提醒
- ✅ 会话数据统计

**验收标准:**
```
功能性：
□ 自动进入休息（短休息/长休息）
□ 休息结束后提示继续
□ 可跳过休息直接开始
□ 会话数据完整记录

技术性：
□ 会话表设计完成
□ 番茄钟记录表完成
□ 状态机逻辑正确
□ 无内存泄漏

交付物：
□ 会话管理模块代码
□ 会话流程文档
□ 单元测试（可选）
```

**风险:**
- 🟢 低风险（基于 M1 架构）

---

#### M3: 数据统计完成（Week 5）

**目标日期:** 2026-01-03

**核心目标:**
- ✅ 统计计算引擎
- ✅ 数据可视化（图表）
- ✅ 按事项维度统计
- ✅ 数据导出功能

**验收标准:**
```
功能性：
□ 今日/本周/本月统计准确
□ 饼图正确显示事项分布
□ 趋势图显示历史数据
□ CSV/JSON 导出完整

技术性：
□ 统计算法正确性
□ 图表渲染性能 < 500ms
□ Recharts 集成完成
□ 大数据量测试通过

交付物：
□ 统计页面完整实现
□ 统计工具函数库
□ 数据导出功能
```

**风险:**
- 🟡 大数据量性能问题
- 🟡 图表库学习曲线

---

#### M4: 云端同步完成（Week 7）

**目标日期:** 2026-01-17

**核心目标:**
- ✅ Supabase 集成
- ✅ 用户认证系统
- ✅ 数据自动同步
- ✅ 离线优先策略

**验收标准:**
```
功能性：
□ 用户注册/登录正常
□ 数据自动同步到云端
□ 离线状态正常使用
□ 多设备数据一致

技术性：
□ Supabase 项目配置
□ 同步冲突解决机制
□ 网络异常处理
□ 数据安全性保障

交付物：
□ 设置页面（登录/同步）
□ 同步服务模块
□ 安全性测试报告
```

**风险:**
- 🔴 网络同步复杂度高
- 🟡 Supabase 学习成本
- 🟡 数据冲突解决

---

#### M5: 正式发布（Week 8）

**目标日期:** 2026-01-24

**核心目标:**
- ✅ 性能优化
- ✅ UI/UX 打磨
- ✅ 打包发布
- ✅ 用户文档

**验收标准:**
```
功能性：
□ 所有功能正常运行
□ 无重大 Bug
□ 用户体验流畅

技术性：
□ 启动时间 < 2s
□ 内存占用 < 200MB
□ 打包体积 < 80MB
□ 代码覆盖率 > 70%

交付物：
□ Windows 安装包
□ 用户使用手册
□ 开发者文档
□ 发布说明
```

**风险:**
- 🟢 低风险（基于前期积累）

---

## 4. 关键交付物

### 4.1 Phase 1 交付物（Week 1-2）

| 交付物 | 类型 | 负责人 | 状态 |
|-------|------|--------|------|
| 项目架构搭建 | 代码 | 开发 | 🟡 待启动 |
| 数据库 Schema | 文档 + SQL | 开发 | 🟡 待启动 |
| 专注事项 CRUD | 代码 | 开发 | 🟡 待启动 |
| 计时器组件 | 代码 | 开发 | 🟡 待启动 |
| 系统通知模块 | 代码 | 开发 | 🟡 待启动 |
| MVP Demo | 可执行程序 | 开发 | 🟡 待启动 |

### 4.2 Phase 2 交付物（Week 3）

| 交付物 | 类型 | 负责人 | 状态 |
|-------|------|--------|------|
| 会话管理模块 | 代码 | 开发 | 🔴 等待 M1 |
| 自动休息功能 | 代码 | 开发 | 🔴 等待 M1 |
| 会话统计功能 | 代码 | 开发 | 🔴 等待 M1 |
| 会话流程文档 | 文档 | 开发 | 🔴 等待 M1 |

### 4.3 Phase 3 交付物（Week 4-5）

| 交付物 | 类型 | 负责人 | 状态 |
|-------|------|--------|------|
| 统计计算引擎 | 代码 | 开发 | 🔴 等待 M2 |
| 数据可视化页面 | 代码 | 开发 | 🔴 等待 M2 |
| 图表组件库 | 代码 | 开发 | 🔴 等待 M2 |
| 数据导出功能 | 代码 | 开发 | 🔴 等待 M2 |

### 4.4 Phase 4 交付物（Week 6-7）

| 交付物 | 类型 | 负责人 | 状态 |
|-------|------|--------|------|
| Supabase 集成 | 代码 | 开发 | 🔴 等待 M3 |
| 用户认证模块 | 代码 | 开发 | 🔴 等待 M3 |
| 数据同步服务 | 代码 | 开发 | 🔴 等待 M3 |
| 设置页面 | 代码 | 开发 | 🔴 等待 M3 |

### 4.5 Phase 5 交付物（Week 8）

| 交付物 | 类型 | 负责人 | 状态 |
|-------|------|--------|------|
| 性能优化报告 | 文档 | 开发 | 🔴 等待 M4 |
| Windows 安装包 | 可执行程序 | 开发 | 🔴 等待 M4 |
| 用户使用手册 | 文档 | 产品 | 🔴 等待 M4 |
| 发布说明 | 文档 | 产品 | 🔴 等待 M4 |

---

## 5. 项目时间线（甘特图）

```
Week 1   Week 2   Week 3   Week 4   Week 5   Week 6   Week 7   Week 8
├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
│ Phase 1: MVP                                                          │
│████████████████│                                                      │
│        M1 ✓    │                                                      │
│                │ Phase 2: 会话                                         │
│                │████████│                                              │
│                │   M2 ✓ │                                              │
│                │        │ Phase 3: 统计                                │
│                │        │████████████████│                            │
│                │        │        M3 ✓    │                            │
│                │        │                │ Phase 4: 同步               │
│                │        │                │████████████████│           │
│                │        │                │        M4 ✓    │           │
│                │        │                │                │ Phase 5   │
│                │        │                │                │████████   │
│                │        │                │                │   M5 ✓    │
└────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┘
```

### 5.1 关键日期

| 日期 | 事件 | 类型 |
|------|------|------|
| 2025-11-29 | 项目启动 | 🎯 里程碑 |
| 2025-12-13 | M1: MVP 完成 | 🎯 里程碑 |
| 2025-12-20 | M2: 会话管理完成 | 🎯 里程碑 |
| 2026-01-03 | M3: 数据统计完成 | 🎯 里程碑 |
| 2026-01-17 | M4: 云端同步完成 | 🎯 里程碑 |
| 2026-01-24 | M5: 正式发布 | 🎯 里程碑 |

---

## 6. 资源规划

### 6.1 人力资源

| 角色 | 人数 | 投入度 | 职责 |
|------|------|--------|------|
| 产品经理 | 1 | 30% | 需求把控、验收 |
| 前端开发 | 1 | 100% | React 开发 |
| 后端开发 | 1 | 50% | Electron 主进程、数据库 |
| UI 设计师 | 1 | 20% | 界面设计、图标 |

**总工作量估算:** ~320 小时

### 6.2 技术资源

| 资源类型 | 说明 | 成本 |
|---------|------|------|
| 开发环境 | VS Code + Node.js | 免费 |
| 云服务 | Supabase 免费版 | $0/月 |
| 设计工具 | Figma 社区版 | 免费 |
| CI/CD | GitHub Actions | 免费 |

**总技术成本:** $0/月（MVP 阶段）

---

## 7. 风险管理

### 7.1 风险矩阵

| 风险 | 概率 | 影响 | 等级 | 应对策略 |
|------|------|------|------|---------|
| Electron 配置复杂 | 中 | 中 | 🟡 中 | 使用成熟模板 |
| 计时器精度问题 | 低 | 高 | 🟡 中 | 时间戳校准方案 |
| 云端同步失败 | 中 | 高 | 🔴 高 | 离线优先策略 |
| 性能不达标 | 低 | 中 | 🟢 低 | 预留优化时间 |
| 需求变更 | 中 | 中 | 🟡 中 | 敏捷迭代 |

### 7.2 风险应对

#### 🔴 高风险：云端同步失败

**应对策略:**
1. **技术预研：** Phase 1 提前研究 Supabase
2. **降级方案：** 优先保证本地功能
3. **时间缓冲：** Phase 4 预留 1-2 周
4. **技术支持：** 寻求 Supabase 社区帮助

#### 🟡 中风险：Electron 配置复杂

**应对策略:**
1. **使用模板：** electron-vite 官方模板
2. **文档齐全：** 详细的配置文档
3. **专家支持：** 技术社区求助

---

## 8. 质量保证计划

### 8.1 质量标准

| 维度 | 标准 | 测试方法 |
|------|------|---------|
| **功能完整性** | 100% 核心功能可用 | 功能测试 |
| **性能** | 启动 < 2s, 内存 < 200MB | 性能测试 |
| **稳定性** | 无重大崩溃 | 压力测试 |
| **兼容性** | Windows 10/11 | 兼容性测试 |
| **代码质量** | 代码审查 100% 通过 | 代码审查 |

### 8.2 测试计划

```
Phase 1:
□ 单元测试（可选）
□ 功能测试（手工）
□ 代码审查（必须）

Phase 2:
□ 单元测试（推荐）
□ 集成测试（核心流程）
□ 性能测试（计时器精度）

Phase 3:
□ 数据准确性测试
□ 大数据量测试
□ 图表渲染测试

Phase 4:
□ 网络异常测试
□ 多设备同步测试
□ 安全性测试

Phase 5:
□ 完整回归测试
□ 用户验收测试
□ 发布前测试
```

---

## 9. 成功标准

### 9.1 项目成功定义

**必须满足（Must Have）:**
- ✅ 所有 5 个里程碑按时完成
- ✅ 核心功能 100% 可用
- ✅ 性能指标达标（启动 < 2s）
- ✅ 无重大 Bug

**期望满足（Should Have）:**
- ✅ 代码覆盖率 > 70%
- ✅ 用户体验流畅
- ✅ 文档完整齐全

**可选满足（Could Have）:**
- ✅ 暗色主题
- ✅ 快捷键支持
- ✅ 数据备份功能

### 9.2 验收标准

#### 功能验收
```
□ 专注事项管理（创建/编辑/删除）
□ 计时器功能（开始/暂停/停止）
□ 自动休息提醒
□ 数据统计可视化
□ 数据导出（CSV/JSON）
□ 云端同步（登录/同步）
```

#### 性能验收
```
□ 启动时间 < 2 秒
□ 计时器精度误差 < 1 秒
□ 内存占用 < 200MB
□ 界面响应 < 100ms
□ 统计计算 < 500ms
```

#### 质量验收
```
□ 代码审查 100% 通过
□ 无重大 Bug
□ 无安全漏洞
□ 无内存泄漏
```

---

## 10. 沟通计划

### 10.1 会议计划

| 会议类型 | 频率 | 参与者 | 目标 |
|---------|------|--------|------|
| 每日站会 | 每天 | 开发团队 | 同步进度、解决问题 |
| 周例会 | 每周 | 全员 | 回顾进度、调整计划 |
| 里程碑评审 | 每个 M | 全员 | 验收交付物 |
| 技术评审 | 按需 | 技术团队 | 技术方案评审 |

### 10.2 报告机制

**周报内容:**
```
- 本周完成任务
- 下周计划任务
- 风险和问题
- 需要的支持
```

**里程碑报告:**
```
- 交付物清单
- 验收结果
- 问题和改进
- 下一阶段计划
```

---

## 11. 变更管理

### 11.1 变更流程

```
需求变更 → 影响评估 → 团队讨论 → 决策 → 更新计划 → 执行
```

### 11.2 变更控制

**允许的变更：**
- 🟢 UI 细节调整
- 🟢 非核心功能优化
- 🟢 技术实现方式

**需要评审的变更：**
- 🟡 核心功能调整
- 🟡 技术栈变更
- 🟡 时间计划调整

**禁止的变更：**
- 🔴 核心理念改变
- 🔴 红线突破
- 🔴 里程碑大幅延期

---

## 12. 项目看板

### 12.1 当前状态

```
待办 (Backlog)          进行中 (In Progress)    已完成 (Done)
├─ Phase 1 任务         ├─ 需求文档 ✓           ├─ 项目规划 ✓
├─ Phase 2 任务         ├─ 技术方案 ✓           ├─ 技术选型 ✓
├─ Phase 3 任务         ├─ 红线文档 ✓           ├─ 文档体系 ✓
├─ Phase 4 任务         └─ 规范文档 ✓
└─ Phase 5 任务
```

### 12.2 下一步行动

**立即执行（本周）:**
```
□ 初始化 Electron 项目
□ 安装核心依赖
□ 创建项目目录结构
□ 搭建开发环境
```

**短期计划（2 周内）:**
```
□ 完成数据库层
□ 实现专注事项 CRUD
□ 实现计时器组件
□ 完成 M1 验收
```

---

## 13. 项目度量

### 13.1 每日度量

| 指标 | 目标 | 当前 |
|------|------|------|
| 代码提交数 | > 3/天 | - |
| 代码审查响应时间 | < 4h | - |
| Bug 修复时间 | < 24h | - |

### 13.2 每周度量

| 指标 | 目标 | Week 1 | Week 2 | Week 3 |
|------|------|--------|--------|--------|
| 任务完成率 | > 90% | - | - | - |
| 代码行数 | - | - | - | - |
| Bug 数量 | < 5 | - | - | - |

---

## 14. 附录

### 14.1 关键术语

| 术语 | 定义 |
|------|------|
| **专注事项** | 可重复使用的专注配置模板 |
| **专注会话** | 一次完整的专注过程记录 |
| **番茄钟** | 一个工作时段或休息时段 |
| **MVP** | 最小可行产品 |
| **里程碑** | 关键节点，需要验收 |

### 14.2 联系方式

| 角色 | 负责人 | 联系方式 |
|------|--------|---------|
| 项目经理 | - | - |
| 技术负责人 | - | - |
| 产品负责人 | - | - |

---

## 15. 版本历史

| 版本 | 日期 | 变更内容 | 修订人 |
|------|------|---------|-------|
| 1.0 | 2025-11-29 | 初始版本 | - |

---

## 📊 项目总览仪表板

```
项目进度: ████░░░░░░░░░░░░░░░░ 20%

里程碑进度:
M1 (MVP)         ░░░░░░░░░░  0% (目标: Week 2)
M2 (会话)        ░░░░░░░░░░  0% (目标: Week 3)
M3 (统计)        ░░░░░░░░░░  0% (目标: Week 5)
M4 (同步)        ░░░░░░░░░░  0% (目标: Week 7)
M5 (发布)        ░░░░░░░░░░  0% (目标: Week 8)

风险状态:
🔴 高风险: 1 个
🟡 中风险: 3 个
🟢 低风险: 2 个

团队健康度:
士气: 😊 高
效率: 📈 待启动
质量: ✅ 良好
```

---

**项目状态:** 🟡 规划完成，等待启动
**下一里程碑:** M1 - MVP 完成（2025-12-13）
**当前阶段:** 项目准备阶段

**准备好启动开发了吗？** 🚀

---

**文档维护:**
- 每周更新进度
- 里程碑后更新验收结果
- 风险变化时及时更新

**最后更新:** 2025-11-29
**下次审查:** 2025-12-06（Week 1 结束）
