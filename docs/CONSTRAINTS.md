# FocusFlow - çº¢çº¿æ–‡æ¡£ï¼ˆConstraints Documentï¼‰

**ç‰ˆæœ¬:** 1.0
**æ—¥æœŸ:** 2025-11-29
**é‡è¦æ€§:** ğŸ”´ å¼ºåˆ¶æ‰§è¡Œï¼Œè¿åå³æ‹’ç»
**é€‚ç”¨èŒƒå›´:** æ‰€æœ‰å¼€å‘äººå‘˜ã€AI åŠ©æ‰‹ã€ä»£ç å®¡æŸ¥

---

## ğŸ“› æ–‡æ¡£è¯´æ˜

æœ¬æ–‡æ¡£å®šä¹‰ FocusFlow é¡¹ç›®çš„**ç»å¯¹ç¦æ­¢äº‹é¡¹**ã€‚

**è¿åçº¢çº¿çš„åæœï¼š**
- âŒ ä»£ç å®¡æŸ¥ä¸é€šè¿‡
- âŒ Pull Request è¢«æ‹’ç»
- âŒ éœ€è¦ç«‹å³å›æ»šä¿®æ”¹

**åŸåˆ™ï¼š**
> çº¢çº¿æ˜¯ä¸ºäº†ä¿æŠ¤é¡¹ç›®çš„**ç®€æ´æ€§ã€ç¨³å®šæ€§å’Œå¯ç»´æŠ¤æ€§**ã€‚
> éµå¾ª KISSã€YAGNI åŸåˆ™ï¼Œæ‹’ç»è¿‡åº¦è®¾è®¡ã€‚

---

## ğŸš« 1. æŠ€æœ¯é€‰å‹çº¢çº¿

### 1.1 ç¦æ­¢å¼•å…¥æœªæ‰¹å‡†çš„ä¾èµ–

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢åœ¨æœªç»è®¨è®ºçš„æƒ…å†µä¸‹æ·»åŠ ä»»ä½•ç”Ÿäº§ä¾èµ–
âŒ ç¦æ­¢å¼•å…¥ä¸ç°æœ‰åŠŸèƒ½é‡å¤çš„åº“
âŒ ç¦æ­¢å¼•å…¥ä½“ç§¯ > 100KB çš„åº“ï¼ˆé™¤éç»å¯¹å¿…è¦ï¼‰
```

**å·²æ‰¹å‡†çš„ç”Ÿäº§ä¾èµ–ï¼ˆä»…é™ä»¥ä¸‹ 5 ä¸ªï¼‰ï¼š**
```json
{
  "react": "^18.2.0",
  "react-dom": "^18.2.0",
  "zustand": "^4.4.0",
  "better-sqlite3": "^9.2.0",
  "recharts": "^2.10.0"
}
```

**æ˜ç¡®ç¦æ­¢çš„ä¾èµ–ï¼š**
| ä¾èµ– | ç¦æ­¢ç†ç”± |
|------|---------|
| `lodash` / `underscore` | JavaScript åŸç”Ÿæ–¹æ³•å·²è¶³å¤Ÿ |
| `moment.js` | ä½“ç§¯è¿‡å¤§ï¼Œä½¿ç”¨åŸç”Ÿ Date |
| `axios` | Electron å¯ç”¨åŸç”Ÿ fetch |
| `jquery` | React é¡¹ç›®ä¸éœ€è¦ |
| `ramda` / `immutable.js` | è¿‡åº¦å‡½æ•°å¼ç¼–ç¨‹ |
| `redux` / `redux-toolkit` | å·²é€‰æ‹© Zustand |
| `mobx` | å·²é€‰æ‹© Zustand |
| `vue` / `angular` | å·²é€‰æ‹© React |
| `express` / `koa` | Electron ä¸éœ€è¦æœåŠ¡å™¨ |
| `socket.io` | æš‚ä¸éœ€è¦å®æ—¶é€šä¿¡ |

**è¿è§„ç¤ºä¾‹ï¼š**
```javascript
// âŒ ç¦æ­¢
import _ from 'lodash'
const result = _.map(arr, fn)

// âœ… æ­£ç¡®
const result = arr.map(fn)
```

---

### 1.2 ç¦æ­¢å¼•å…¥ UI ç»„ä»¶åº“

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢ä½¿ç”¨ä»»ä½• UI ç»„ä»¶åº“
âŒ ç¦æ­¢å¼•å…¥ CSS æ¡†æ¶ï¼ˆé™¤ CSS Modulesï¼‰
```

**æ˜ç¡®ç¦æ­¢ï¼š**
- Ant Design / antd
- Material-UI / @mui
- Chakra UI
- shadcn/ui
- Bootstrap
- Tailwind CSS
- Bulma

**ç†ç”±ï¼š**
- åº”ç”¨ç•Œé¢ç®€å•ï¼Œè‡ªå®šä¹‰ç»„ä»¶æ›´è½»é‡
- é¿å… 1MB+ çš„æ‰“åŒ…ä½“ç§¯
- å®Œå…¨å¯æ§çš„æ ·å¼

**è¿è§„ç¤ºä¾‹ï¼š**
```javascript
// âŒ ç¦æ­¢
import { Button } from 'antd'

// âœ… æ­£ç¡® - è‡ªå®šä¹‰ç»„ä»¶
import Button from '../components/Button'
```

---

### 1.3 ç¦æ­¢å¼•å…¥çŠ¶æ€ç®¡ç†åº“ï¼ˆé™¤ Zustandï¼‰

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢ä½¿ç”¨ Redux / Redux Toolkit
âŒ ç¦æ­¢ä½¿ç”¨ MobX
âŒ ç¦æ­¢ä½¿ç”¨ Recoil / Jotaiï¼ˆä¸ Zustand é‡å¤ï¼‰
```

**å”¯ä¸€å…è®¸çš„çŠ¶æ€ç®¡ç†ï¼šZustand**

**è¿è§„ç¤ºä¾‹ï¼š**
```javascript
// âŒ ç¦æ­¢
import { configureStore } from '@reduxjs/toolkit'

// âœ… æ­£ç¡®
import create from 'zustand'
```

---

### 1.4 ç¦æ­¢å¼•å…¥ TypeScriptï¼ˆMVP é˜¶æ®µï¼‰

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢åœ¨ MVP é˜¶æ®µå¼•å…¥ TypeScript
âŒ ç¦æ­¢æ·»åŠ  @types/* ä¾èµ–
âŒ ç¦æ­¢ä½¿ç”¨ .ts / .tsx æ–‡ä»¶æ‰©å±•å
```

**ç†ç”±ï¼š**
- å¢åŠ ç¼–è¯‘å¤æ‚åº¦
- å¢åŠ å­¦ä¹ æˆæœ¬
- MVP é˜¶æ®µæ”¶ç›Šæœ‰é™

**åç»­è®¡åˆ’ï¼š**
- Phase 2 å¯è€ƒè™‘æ¸è¿›å¼è¿ç§»

---

## ğŸš« 2. æ¶æ„æ¨¡å¼çº¢çº¿

### 2.1 ç¦æ­¢è¿‡åº¦æŠ½è±¡

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢åˆ›å»ºä¸å¿…è¦çš„æŠ½è±¡å±‚
âŒ ç¦æ­¢ä½¿ç”¨è®¾è®¡æ¨¡å¼ï¼ˆå·¥å‚ã€ç­–ç•¥ã€é€‚é…å™¨ç­‰ï¼‰é™¤éç»å¯¹å¿…è¦
âŒ ç¦æ­¢åˆ›å»º "Base" / "Abstract" åŸºç±»
âŒ ç¦æ­¢è¿‡åº¦ä½¿ç”¨é«˜é˜¶ç»„ä»¶ï¼ˆHOCï¼‰
```

**è¿è§„ç¤ºä¾‹ï¼š**
```javascript
// âŒ ç¦æ­¢ - è¿‡åº¦æŠ½è±¡
class BaseComponent extends React.Component {}
class AbstractFactory {}
function withLoading(Component) {}

// âœ… æ­£ç¡® - ç›´æ¥å®ç°
function MyComponent() {
  return <div>Hello</div>
}
```

---

### 2.2 ç¦æ­¢å¾®å‰ç«¯æ¶æ„

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢æ‹†åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹åº”ç”¨
âŒ ç¦æ­¢ä½¿ç”¨ qiankun / micro-app
âŒ ç¦æ­¢ä½¿ç”¨ Module Federation
```

**ç†ç”±ï¼š**
- åº”ç”¨è§„æ¨¡å°ï¼ˆä»… 4 ä¸ªé¡µé¢ï¼‰
- å¢åŠ å¤æ‚åº¦ï¼Œè¿å KISS åŸåˆ™

---

### 2.3 ç¦æ­¢å¼•å…¥åç«¯æ¡†æ¶

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢åœ¨ Electron ä¸»è¿›ç¨‹ä¸­ä½¿ç”¨ Express / Koa
âŒ ç¦æ­¢å¼•å…¥ GraphQL æœåŠ¡å™¨
âŒ ç¦æ­¢å¼•å…¥ tRPC / Nest.js
```

**ç†ç”±ï¼š**
- Electron ä¸»è¿›ç¨‹ä¸æ˜¯ Web æœåŠ¡å™¨
- IPC é€šä¿¡å·²è¶³å¤Ÿ
- å¢åŠ ä¸å¿…è¦çš„å¤æ‚åº¦

---

### 2.4 ç¦æ­¢å¼•å…¥å¤æ‚è·¯ç”±

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢ä½¿ç”¨ React Routerï¼ˆé™¤éé¡µé¢ > 10ï¼‰
âŒ ç¦æ­¢åµŒå¥—è·¯ç”±
âŒ ç¦æ­¢åŠ¨æ€è·¯ç”±
```

**ç†ç”±ï¼š**
- åº”ç”¨ä»… 4 ä¸ªé¡µé¢
- ç®€å•çš„æ¡ä»¶æ¸²æŸ“å·²è¶³å¤Ÿ

**æ­£ç¡®åšæ³•ï¼š**
```javascript
// âœ… ç®€å•çš„é¡µé¢åˆ‡æ¢
function App() {
  const [page, setPage] = useState('home')

  return (
    <>
      {page === 'home' && <Home />}
      {page === 'items' && <Items />}
      {page === 'stats' && <Stats />}
      {page === 'settings' && <Settings />}
    </>
  )
}
```

---

## ğŸš« 3. ä»£ç å®è·µçº¢çº¿

### 3.1 ç¦æ­¢çš„ä»£ç æ¨¡å¼

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢ä½¿ç”¨ varï¼ˆä»…ä½¿ç”¨ const / letï¼‰
âŒ ç¦æ­¢ä½¿ç”¨ eval() / Function()
âŒ ç¦æ­¢ä½¿ç”¨ with è¯­å¥
âŒ ç¦æ­¢ä½¿ç”¨ == / !=ï¼ˆä½¿ç”¨ === / !==ï¼‰
âŒ ç¦æ­¢åµŒå¥—æ·±åº¦ > 4 å±‚
âŒ ç¦æ­¢å‡½æ•°é•¿åº¦ > 50 è¡Œï¼ˆæ‹†åˆ†ï¼‰
```

**è¿è§„ç¤ºä¾‹ï¼š**
```javascript
// âŒ ç¦æ­¢
var x = 10
if (x == '10') {} // ä½¿ç”¨ ==
eval('alert(1)')  // ä½¿ç”¨ eval

// âœ… æ­£ç¡®
const x = 10
if (x === 10) {}
```

---

### 3.2 ç¦æ­¢ç›´æ¥æ“ä½œ DOM

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢åœ¨ React ç»„ä»¶ä¸­ä½¿ç”¨ document.getElementById
âŒ ç¦æ­¢ä½¿ç”¨ document.querySelectorï¼ˆé™¤éç»å¯¹å¿…è¦ï¼‰
âŒ ç¦æ­¢ä½¿ç”¨ innerHTMLï¼ˆXSS é£é™©ï¼‰
```

**è¿è§„ç¤ºä¾‹ï¼š**
```javascript
// âŒ ç¦æ­¢
function MyComponent() {
  useEffect(() => {
    document.getElementById('root').innerHTML = '<div>Hello</div>'
  }, [])
}

// âœ… æ­£ç¡®
function MyComponent() {
  return <div>Hello</div>
}
```

---

### 3.3 ç¦æ­¢é˜»å¡ä¸»çº¿ç¨‹

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢åœ¨ä¸»è¿›ç¨‹ä¸­æ‰§è¡Œ CPU å¯†é›†è®¡ç®—ï¼ˆ> 100msï¼‰
âŒ ç¦æ­¢åœ¨æ¸²æŸ“è¿›ç¨‹ä¸­ä½¿ç”¨ while(true)
âŒ ç¦æ­¢åŒæ­¥æ–‡ä»¶ I/Oï¼ˆé™¤ SQLiteï¼‰
```

**è¿è§„ç¤ºä¾‹ï¼š**
```javascript
// âŒ ç¦æ­¢ - é˜»å¡ä¸»çº¿ç¨‹
for (let i = 0; i < 1000000000; i++) {
  // é•¿æ—¶é—´è®¡ç®—
}

// âœ… æ­£ç¡® - ä½¿ç”¨ Web Worker æˆ–æ‹†åˆ†ä»»åŠ¡
setTimeout(() => {
  // åˆ†æ‰¹å¤„ç†
}, 0)
```

---

### 3.4 ç¦æ­¢å…¨å±€å˜é‡æ±¡æŸ“

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢åœ¨ window ä¸ŠæŒ‚è½½å…¨å±€å˜é‡ï¼ˆé™¤ window.apiï¼‰
âŒ ç¦æ­¢ä½¿ç”¨ global / globalThisï¼ˆé™¤å¿…è¦æƒ…å†µï¼‰
âŒ ç¦æ­¢ä¿®æ”¹ Object / Array / String åŸå‹
```

**è¿è§„ç¤ºä¾‹ï¼š**
```javascript
// âŒ ç¦æ­¢
window.myGlobalVar = 123
Array.prototype.myMethod = function() {}

// âœ… æ­£ç¡® - ä½¿ç”¨æ¨¡å—å¯¼å‡º
export const myVar = 123
```

---

## ğŸš« 4. å®‰å…¨çº¢çº¿

### 4.1 ç¦æ­¢æ‰§è¡Œä¸å¯ä¿¡ä»£ç 

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢ä½¿ç”¨ eval() æ‰§è¡Œç”¨æˆ·è¾“å…¥
âŒ ç¦æ­¢ä½¿ç”¨ new Function() åŠ¨æ€ç”Ÿæˆå‡½æ•°
âŒ ç¦æ­¢ä½¿ç”¨ dangerouslySetInnerHTMLï¼ˆé™¤éå¿…è¦ä¸”å·²æ¸…ç†ï¼‰
âŒ ç¦æ­¢åœ¨ preload è„šæœ¬ä¸­æš´éœ² Node.js API
```

**è¿è§„ç¤ºä¾‹ï¼š**
```javascript
// âŒ ç¦æ­¢
const userInput = getUserInput()
eval(userInput) // ä¸¥é‡å®‰å…¨é£é™©

// preload/index.js
contextBridge.exposeInMainWorld('node', {
  require: require // âŒ ç¦æ­¢æš´éœ² require
})
```

---

### 4.2 ç¦æ­¢æ˜æ–‡å­˜å‚¨æ•æ„Ÿæ•°æ®

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢åœ¨ä»£ç ä¸­ç¡¬ç¼–ç  API Key / Token
âŒ ç¦æ­¢åœ¨ LocalStorage ä¸­å­˜å‚¨å¯†ç 
âŒ ç¦æ­¢åœ¨æ•°æ®åº“ä¸­æ˜æ–‡å­˜å‚¨å¯†ç 
```

**è¿è§„ç¤ºä¾‹ï¼š**
```javascript
// âŒ ç¦æ­¢
const API_KEY = 'sk-1234567890' // ç¡¬ç¼–ç 

// âŒ ç¦æ­¢
localStorage.setItem('password', '123456')

// âœ… æ­£ç¡®
const API_KEY = process.env.API_KEY
```

---

### 4.3 ç¦æ­¢ä¸å®‰å…¨çš„ Electron é…ç½®

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢è®¾ç½® nodeIntegration: true
âŒ ç¦æ­¢è®¾ç½® contextIsolation: false
âŒ ç¦æ­¢ç¦ç”¨ webSecurity
âŒ ç¦æ­¢å…è®¸æ··åˆå†…å®¹ï¼ˆHTTP + HTTPSï¼‰
```

**è¿è§„ç¤ºä¾‹ï¼š**
```javascript
// âŒ ç¦æ­¢
new BrowserWindow({
  webPreferences: {
    nodeIntegration: true,        // âŒ
    contextIsolation: false,      // âŒ
    webSecurity: false            // âŒ
  }
})

// âœ… æ­£ç¡®
new BrowserWindow({
  webPreferences: {
    nodeIntegration: false,
    contextIsolation: true,
    preload: path.join(__dirname, 'preload.js')
  }
})
```

---

## ğŸš« 5. æ€§èƒ½çº¢çº¿

### 5.1 ç¦æ­¢å†…å­˜æ³„æ¼

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢ä¸æ¸…ç†çš„ setInterval / setTimeout
âŒ ç¦æ­¢ä¸ç§»é™¤çš„äº‹ä»¶ç›‘å¬å™¨
âŒ ç¦æ­¢å¾ªç¯å¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„æ¼
```

**è¿è§„ç¤ºä¾‹ï¼š**
```javascript
// âŒ ç¦æ­¢
useEffect(() => {
  setInterval(() => {
    // æ°¸ä¸æ¸…ç†
  }, 1000)
}, [])

// âœ… æ­£ç¡®
useEffect(() => {
  const timer = setInterval(() => {}, 1000)
  return () => clearInterval(timer) // æ¸…ç†
}, [])
```

---

### 5.2 ç¦æ­¢å¤§æ•°æ®é‡æ¸²æŸ“

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢ä¸€æ¬¡æ€§æ¸²æŸ“ > 100 ä¸ªåˆ—è¡¨é¡¹ï¼ˆä½¿ç”¨è™šæ‹Ÿåˆ—è¡¨ï¼‰
âŒ ç¦æ­¢åœ¨å¾ªç¯ä¸­åˆ›å»ºå¤§é‡ç»„ä»¶å®ä¾‹
```

**è¿è§„ç¤ºä¾‹ï¼š**
```javascript
// âŒ ç¦æ­¢ - æ¸²æŸ“ 10000 ä¸ªå…ƒç´ 
{items.map(item => <Item key={item.id} />)} // items.length = 10000

// âœ… æ­£ç¡® - é™åˆ¶æ¸²æŸ“æ•°é‡æˆ–ä½¿ç”¨è™šæ‹Ÿåˆ—è¡¨
{items.slice(0, 100).map(item => <Item key={item.id} />)}
```

---

### 5.3 ç¦æ­¢ä¸å¿…è¦çš„é‡æ¸²æŸ“

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢åœ¨ render ä¸­åˆ›å»ºæ–°å¯¹è±¡/æ•°ç»„ï¼ˆå¯¼è‡´æ— é™æ¸²æŸ“ï¼‰
âŒ ç¦æ­¢ä¸ä½¿ç”¨ React.memo / useMemoï¼ˆåœ¨å¿…è¦æ—¶ï¼‰
```

**è¿è§„ç¤ºä¾‹ï¼š**
```javascript
// âŒ ç¦æ­¢
function MyComponent() {
  return <Child data={{ x: 1 }} /> // æ¯æ¬¡æ¸²æŸ“éƒ½åˆ›å»ºæ–°å¯¹è±¡
}

// âœ… æ­£ç¡®
function MyComponent() {
  const data = useMemo(() => ({ x: 1 }), [])
  return <Child data={data} />
}
```

---

## ğŸš« 6. æ•°æ®åº“çº¢çº¿

### 6.1 ç¦æ­¢ SQL æ³¨å…¥

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢å­—ç¬¦ä¸²æ‹¼æ¥ SQL
âŒ ç¦æ­¢ä¸ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢
```

**è¿è§„ç¤ºä¾‹ï¼š**
```javascript
// âŒ ç¦æ­¢ - SQL æ³¨å…¥é£é™©
const name = userInput
db.prepare(`SELECT * FROM items WHERE name = '${name}'`).all()

// âœ… æ­£ç¡® - å‚æ•°åŒ–æŸ¥è¯¢
db.prepare('SELECT * FROM items WHERE name = ?').all(name)
```

---

### 6.2 ç¦æ­¢æ— ç´¢å¼•çš„å¤§è¡¨æŸ¥è¯¢

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢åœ¨æœªå»ºç´¢å¼•çš„å­—æ®µä¸Š WHERE / JOIN
âŒ ç¦æ­¢å…¨è¡¨æ‰«æï¼ˆè¡¨æ•°æ® > 1000 æ¡æ—¶ï¼‰
```

**æ­£ç¡®åšæ³•ï¼š**
```sql
-- âœ… ä¸ºå¸¸ç”¨æŸ¥è¯¢å­—æ®µåˆ›å»ºç´¢å¼•
CREATE INDEX idx_sessions_item_id ON focus_sessions(focus_item_id);
```

---

### 6.3 ç¦æ­¢åœ¨ä¸»è¿›ç¨‹å¤–è®¿é—®æ•°æ®åº“

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢åœ¨æ¸²æŸ“è¿›ç¨‹ä¸­ç›´æ¥æ“ä½œæ•°æ®åº“
âŒ ç¦æ­¢åœ¨ preload è„šæœ¬ä¸­æš´éœ²æ•°æ®åº“å®ä¾‹
```

**æ­£ç¡®åšæ³•ï¼š**
```javascript
// æ¸²æŸ“è¿›ç¨‹ - é€šè¿‡ IPC è°ƒç”¨
const items = await window.api.getFocusItems()

// ä¸»è¿›ç¨‹ - å¤„ç†æ•°æ®åº“æ“ä½œ
ipcMain.handle('get-focus-items', () => {
  return db.prepare('SELECT * FROM focus_items').all()
})
```

---

## ğŸš« 7. æ–‡ä»¶æ“ä½œçº¢çº¿

### 7.1 ç¦æ­¢ä¸å®‰å…¨çš„æ–‡ä»¶è·¯å¾„

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢ä½¿ç”¨ç”¨æˆ·è¾“å…¥æ‹¼æ¥æ–‡ä»¶è·¯å¾„
âŒ ç¦æ­¢è®¿é—®ç³»ç»Ÿç›®å½•ï¼ˆC:\Windows ç­‰ï¼‰
âŒ ç¦æ­¢ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼ˆé™¤åº”ç”¨æ•°æ®ç›®å½•ï¼‰
```

**è¿è§„ç¤ºä¾‹ï¼š**
```javascript
// âŒ ç¦æ­¢
const userPath = getUserInput()
fs.readFileSync(userPath) // è·¯å¾„éå†æ”»å‡»

// âœ… æ­£ç¡®
const safePath = path.join(app.getPath('userData'), 'data.json')
```

---

### 7.2 ç¦æ­¢åŒæ­¥æ–‡ä»¶æ“ä½œï¼ˆé™¤å¿…è¦æƒ…å†µï¼‰

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢åœ¨æ¸²æŸ“è¿›ç¨‹ä¸­ä½¿ç”¨ fsï¼ˆé€šè¿‡ IPCï¼‰
âŒ ç¦æ­¢ä½¿ç”¨ fs.readFileSyncï¼ˆé™¤ SQLiteï¼‰
```

---

## ğŸš« 8. Git å’Œç‰ˆæœ¬æ§åˆ¶çº¢çº¿

### 8.1 ç¦æ­¢æäº¤çš„æ–‡ä»¶

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢æäº¤ node_modules/
âŒ ç¦æ­¢æäº¤ .env æ–‡ä»¶
âŒ ç¦æ­¢æäº¤æ•°æ®åº“æ–‡ä»¶ï¼ˆ*.dbï¼‰
âŒ ç¦æ­¢æäº¤ dist/ build/ ç›®å½•
âŒ ç¦æ­¢æäº¤ .vscode/ .idea/ ç¼–è¾‘å™¨é…ç½®
âŒ ç¦æ­¢æäº¤ package-lock.json / yarn.lockï¼ˆä½¿ç”¨ pnpmï¼‰
```

**å¿…é¡»åœ¨ .gitignore ä¸­é…ç½®ï¼š**
```gitignore
node_modules/
dist/
*.db
.env
.DS_Store
```

---

### 8.2 ç¦æ­¢çš„æäº¤è¡Œä¸º

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢ç›´æ¥æ¨é€åˆ° main åˆ†æ”¯ï¼ˆä½¿ç”¨ PRï¼‰
âŒ ç¦æ­¢æäº¤æœªæ ¼å¼åŒ–çš„ä»£ç 
âŒ ç¦æ­¢æäº¤åŒ…å« console.log çš„ç”Ÿäº§ä»£ç 
âŒ ç¦æ­¢æäº¤åŒ…å« TODO / FIXME çš„ä»£ç ï¼ˆè®°å½•åˆ° Issueï¼‰
```

---

## ğŸš« 9. ä¾èµ–ç®¡ç†çº¢çº¿

### 9.1 ç¦æ­¢çš„åŒ…ç®¡ç†å™¨è¡Œä¸º

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢ä½¿ç”¨ npmï¼ˆç»Ÿä¸€ä½¿ç”¨ pnpmï¼‰
âŒ ç¦æ­¢ä½¿ç”¨ yarn
âŒ ç¦æ­¢å…¨å±€å®‰è£…ä¾èµ–
âŒ ç¦æ­¢ä½¿ç”¨ --force å¼ºåˆ¶å®‰è£…
```

**æ­£ç¡®åšæ³•ï¼š**
```bash
# âœ… ä½¿ç”¨ pnpm
pnpm install
pnpm add package-name
```

---

### 9.2 ç¦æ­¢ä¾èµ–ç‰ˆæœ¬ä¸é”å®š

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢ä½¿ç”¨ * æˆ– latest ä½œä¸ºç‰ˆæœ¬å·
âŒ ç¦æ­¢ä¸æäº¤ pnpm-lock.yaml
```

**è¿è§„ç¤ºä¾‹ï¼š**
```json
// âŒ ç¦æ­¢
{
  "dependencies": {
    "react": "*",
    "lodash": "latest"
  }
}

// âœ… æ­£ç¡®
{
  "dependencies": {
    "react": "^18.2.0"
  }
}
```

---

## ğŸš« 10. æµ‹è¯•å’Œè°ƒè¯•çº¢çº¿

### 10.1 ç¦æ­¢åœ¨ç”Ÿäº§ä»£ç ä¸­è°ƒè¯•

**çº¢çº¿è§„åˆ™ï¼š**
```
âŒ ç¦æ­¢æäº¤åŒ…å« console.log çš„ä»£ç 
âŒ ç¦æ­¢æäº¤åŒ…å« debugger çš„ä»£ç 
âŒ ç¦æ­¢åœ¨ç”Ÿäº§ç¯å¢ƒæ‰“å¼€ DevTools
```

**è¿è§„ç¤ºä¾‹ï¼š**
```javascript
// âŒ ç¦æ­¢
console.log('Debug:', data)
debugger

// âœ… æ­£ç¡® - ä½¿ç”¨æ—¥å¿—ç³»ç»Ÿï¼ˆå¦‚éœ€è¦ï¼‰
if (process.env.NODE_ENV === 'development') {
  console.log('Debug:', data)
}
```

---

## ğŸ“Š çº¢çº¿æ£€æŸ¥æ¸…å•

åœ¨æäº¤ä»£ç å‰ï¼Œè¯·ç¡®è®¤ï¼š

```
â–¡ æ²¡æœ‰å¼•å…¥æœªæ‰¹å‡†çš„ä¾èµ–
â–¡ æ²¡æœ‰ä½¿ç”¨ UI ç»„ä»¶åº“
â–¡ æ²¡æœ‰ä½¿ç”¨ eval / innerHTML
â–¡ æ²¡æœ‰ SQL æ³¨å…¥é£é™©
â–¡ æ²¡æœ‰å†…å­˜æ³„æ¼
â–¡ æ²¡æœ‰æäº¤æ•æ„Ÿæ•°æ®
â–¡ æ²¡æœ‰ç›´æ¥æ“ä½œ DOM
â–¡ æ²¡æœ‰é˜»å¡ä¸»çº¿ç¨‹
â–¡ æ²¡æœ‰ä¸å®‰å…¨çš„ Electron é…ç½®
â–¡ æ²¡æœ‰æœªæ¸…ç†çš„å®šæ—¶å™¨
```

---

## ğŸ”´ è¿è§„å¤„ç†æµç¨‹

1. **å‘ç°è¿è§„ï¼š** ä»£ç å®¡æŸ¥æ—¶ç«‹å³æ ‡è®°
2. **è¦æ±‚ä¿®æ”¹ï¼š** è¯´æ˜è¿åçš„å…·ä½“çº¢çº¿
3. **æ‹’ç»åˆå¹¶ï¼š** ç›´åˆ°é—®é¢˜è§£å†³
4. **è®°å½•è¿è§„ï¼š** å¦‚åå¤è¿è§„ï¼Œè®°å½•åˆ°å¼€å‘è€…æ¡£æ¡ˆ

---

## ğŸ“ çº¢çº¿æ›´æ–°æµç¨‹

**çº¢çº¿ä¿®æ”¹éœ€è¦ï¼š**
1. å›¢é˜Ÿè®¨è®ºå¹¶è¾¾æˆä¸€è‡´
2. æ›´æ–°æœ¬æ–‡æ¡£å¹¶æ³¨æ˜ç‰ˆæœ¬
3. é€šçŸ¥æ‰€æœ‰å¼€å‘äººå‘˜

**å½“å‰ç‰ˆæœ¬ï¼š** 1.0
**æœ€åæ›´æ–°ï¼š** 2025-11-29
**ä¸‹æ¬¡å®¡æŸ¥ï¼š** Phase 2 å¼€å§‹å‰

---

**è®°ä½ï¼šçº¢çº¿ä¸æ˜¯é™åˆ¶åˆ›é€ åŠ›ï¼Œè€Œæ˜¯ä¿æŠ¤é¡¹ç›®çš„é•¿æœŸå¥åº·ã€‚**

ğŸ”´ **ä¸¥æ ¼éµå®ˆï¼Œæ— ä¾‹å¤–ï¼**
